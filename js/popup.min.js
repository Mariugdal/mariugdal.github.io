var buttonForm=document.querySelector(".button-form"),popup=document.querySelector(".contact"),form=popup.querySelector("form"),contactClose=popup.querySelector(".modal-close"),yourName=popup.querySelector("[name=user-name]"),yourEmail=popup.querySelector("[name=user-email]"),isStorageSupport=!0,storage="",optionsDirectLabels=document.querySelectorAll(".options-directions-label"),optionsLabels=document.querySelectorAll(".options-label"),sliderControls=document.querySelectorAll(".slider-controls-label"),contactForm=document.querySelector(".contact-form"),modalContact=document.querySelector(".contact"),uname=document.querySelector(".your-name"),email=document.querySelector(".your-email"),letter=document.querySelector(".your-comment");try{storage=localStorage.getItem("yourName")}catch(e){isStorageSupport=!1}buttonForm.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storage?(yourName.value=storage,yourEmail.focus()):yourName.focus()}),contactClose.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"))}),optionsLabels&&optionsLabels.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".options-label-active").classList.remove("options-label-active"),this.classList.add("options-label-active")})}),optionsDirectLabels&&optionsDirectLabels.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".options-directions-label-active").classList.remove("options-directions-label-active"),this.classList.add("options-directions-label-active")})}),sliderControls&&sliderControls.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".slider-controls-label-active").classList.remove("slider-controls-label-active"),this.classList.add("slider-controls-label-active"),document.querySelector(".slider-item-active").classList.remove("slider-item-active"),document.querySelector("."+this.dataset.screen).classList.add("slider-item-active")})}),contactForm&&contactForm.addEventListener("submit",function(e){uname.value&&email.value&&letter.value||(e.preventDefault(),uname.value||uname.classList.add("error"),email.value||email.classList.add("error"),letter.value||letter.classList.add("error"),modalContact.classList.remove("modal-error"),modalContact.offsetWidth=modalContact.offsetWidth,modalContact.classList.add("modal-error"))});
